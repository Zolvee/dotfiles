# ==============================================================================
# Globals
# ==============================================================================
unbind C-b
set -g prefix C-Space
bind C-Space send-prefix

set -g mouse on
set -g status-position top

# Set vi-mode
set-window-option -g mode-keys vi

# New windows and h/v splits
bind c new-window -c "#{pane_current_path}"
bind '"' split-window -v -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"

# Opt(alt) + vim pane selection
bind -n M-h select-pane -L
bind -n M-j select-pane -D
bind -n M-k select-pane -U
bind -n M-l select-pane -R

# Opt(alt) + arrows to switch panes
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# Shift + arrows to switch windows
bind -n S-Left  previous-window
bind -n S-Right next-window

# Shift + opt(alt) to switch windows
bind -n M-H previous-window
bind -n M-L next-window

# ==============================================================================
# TPM Plugins
# ==============================================================================
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'christoomey/vim-tmux-navigator'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'


# ==============================================================================
# Retro WarGames Theme
# ==============================================================================

# Overall status bar
set -g status on
set -g status-position top
set -g status-justify left
set -g status-style fg=green,bg=black

# Pane borders
set -g pane-border-style fg=green
set -g pane-active-border-style fg=brightgreen

# Window titles (no centered box)
set -g window-status-format ' #[fg=green]#I:#W '
set -g window-status-current-format '#[fg=green,bg=colour235,nobold] #I:#W #[fg=colour235,bg=black]'
set -g window-status-style bg=black
set -g window-status-current-style bg=black

# Left/right content
set -g status-left-length 30
set -g status-left '#[fg=black,bg=green,bold]#S#[fg=green,bg=black,nobold]'
set -g status-right '#[fg=green,bg=black] #(~/tmux/widgets.sh)'

# Message/command/copy-mode
set -g window-style bg=black
set -g window-active-style bg=black
set -g message-style fg=black,bg=green
set -g message-command-style fg=black,bg=green
set -g mode-style fg=black,bg=green

# ==============================================================================
# Misc
# ==============================================================================
set -g @continuum-restore 'on'  # persist sessions

# Initialize TPM (must be last)
run '~/.tmux/plugins/tpm/tpm'

